;/*FB_PKG_DELIM*/

__d("CometFeedAttachmentSaveCallToAction_actionLink.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedAttachmentSaveCallToAction_actionLink",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"item",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometSaveToggle_savable"}],storageKey:null}],type:"SaveActionLink",abstractKey:null}],storageKey:null}],type:"StoryAttachmentSaveCallToActionRenderer",abstractKey:null};a.exports=e}),null);
__d("CometSaveToggle_savable.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometSaveToggle_savable",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_saved_state",storageKey:null}],type:"Savable",abstractKey:"__isSavable"};a.exports=e}),null);
__d("CometSaveMutationHelper",["CometRelay"],(function(t,n,r,o,a,i,l){"use strict";var e="CometSaveCollectionAllItems_collection_items",s="CometSaveGroupCollectionAllItems_items",u=[{key:"CometSaveLeftRailCollections_saver_content_collections",use_case:"SAVE_DEFAULT"},{key:"CometSaveSelectCollectionList_saver_content_collections",use_case:"SAVE_BOTTOM_SHEET"},{key:"SaveSelectCollection_saver_content_collections",use_case:"SAVE_BOTTOM_SHEET"}];function c(t,n,r){var a=t.get(n);if(a){var i=o("CometRelay").ConnectionHandler.getConnection(a,e);i&&r.forEach(function(e){if(e){var n=o("CometRelay").ConnectionHandler.createEdge(t,i,e,"SaverInfoSaverContentCollectionsEdge");o("CometRelay").ConnectionHandler.insertEdgeBefore(i,n)}})}}function d(e,t,n){var r=e.get(t);if(r){var a=o("CometRelay").ConnectionHandler.getConnection(r,s);if(a){var i=o("CometRelay").ConnectionHandler.createEdge(e,a,n,"ContentCollectionItemsEdge");o("CometRelay").ConnectionHandler.insertEdgeBefore(a,i)}}}function m(e,t){var n,r=(n=e.getLinkedRecords("edges"))!=null?n:[];for(var o of r){var a=o&&o.getLinkedRecord("node"),i=a&&a.getLinkedRecord("savable"),l=i&&i.getDataID(),s=a&&a.getDataID();if(t===l)return s}}function p(e,t,n){u.forEach(function(r){var a=r.key,i=r.use_case,l=o("CometRelay").ConnectionHandler.getConnection(n,a,{use_case:i});l!=null&&o("CometRelay").ConnectionHandler.insertEdgeBefore(l,o("CometRelay").ConnectionHandler.createEdge(e,l,t,"SaverInfoSaverContentCollectionsEdge"))})}function _(e,t){u.forEach(function(n){var r=n.key,a=o("CometRelay").ConnectionHandler.getConnection(e,r);a!=null&&o("CometRelay").ConnectionHandler.deleteNode(a,t)})}l.addToCollection=c,l.addToGroupCollection=d,l.findNodeIDForSavable=m,l.addCollectionToConnections=p,l.removeCollectionFromConnections=_}),98);
__d("useContentCollectionAddSavablesMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9951492608241336"}),null);
__d("useContentCollectionAddSavablesMutation.graphql",["useContentCollectionAddSavablesMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"contributorRoles"},{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],t=[{kind:"Variable",name:"data",variableName:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"collection_title",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useContentCollectionAddSavablesMutation",selections:[{alias:null,args:t,concreteType:"ContentCollectionAddSavablesResponsePayload",kind:"LinkedField",name:"content_collection_add_savables",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"added_content_collection_items",plural:!0,selections:[r],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content_collection",plural:!1,selections:[r,o,{args:null,kind:"FragmentSpread",name:"CometSaveLeftRailListItem_collection"}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"SaveGeminiHeaderTabs_saverInfo"}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useContentCollectionAddSavablesMutation",selections:[{alias:null,args:t,concreteType:"ContentCollectionAddSavablesResponsePayload",kind:"LinkedField",name:"content_collection_add_savables",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"added_content_collection_items",plural:!0,selections:[a,r],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content_collection",plural:!1,selections:[a,r,o,{kind:"TypeDiscriminator",abstractKey:"__isContentCollection"},{alias:null,args:[{kind:"Literal",name:"height",value:48},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:48}],concreteType:"Image",kind:"LinkedField",name:"collection_thumbnail_image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"roles",variableName:"contributorRoles"}],kind:"ScalarField",name:"participant_count",storageKey:null},{alias:null,args:null,concreteType:"PrivacyScope",kind:"LinkedField",name:"privacy_scope",plural:!1,selections:[{alias:null,args:null,concreteType:"PrivacyOption",kind:"LinkedField",name:"selected_option",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"icon_image",plural:!1,selections:[i],storageKey:null},r],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contributor_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"collection_followers_count",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfo",kind:"LinkedField",name:"saver_info",plural:!1,selections:[{alias:null,args:null,concreteType:"SaverInfoToSaveListsConnection",kind:"LinkedField",name:"save_lists",plural:!1,selections:[{alias:null,args:null,concreteType:"SaveList",kind:"LinkedField",name:"nodes",plural:!0,selections:[i,r],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("useContentCollectionAddSavablesMutation_facebookRelayOperation"),metadata:{},name:"useContentCollectionAddSavablesMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useContentCollectionAddSavablesMutation",["CometRelay","CometSaveCollectionConstants","CometSaveMutationHelper","CometSaveStoryMutationHelper","FBLogger","WebPixelRatio","react-compiler-runtime","useCometSaveLoggingContext","useContentCollectionAddSavablesMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e=["optimisticUpdater","updater"],s;function u(){var t=o("react-compiler-runtime").c(5),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("FBLogger")("saved_for_later"),t[0]=a):a=t[0];var i=a,l=r("useCometSaveLoggingContext")().surfaceGraphQL,u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u=s!==void 0?s:s=n("useContentCollectionAddSavablesMutation.graphql"),t[1]=u):u=t[1];var c=o("CometRelay").useMutation(u),d=c[0],m;return t[2]!==d||t[3]!==l?(m=function(n,r){var t=n.collectionID,a=n.collectionTitle,s=n.mechanism,u=n.savableIDs,c=n.surface;if(u==null)throw i.mustfixThrow("savableIDs not provided to add savables mutation");var m=r.optimisticUpdater,p=r.updater,_=babelHelpers.objectWithoutPropertiesLoose(r,e),f=function(n){o("CometSaveStoryMutationHelper").updateSavablesSaveState(n,u,"SAVED");var e=n.getRootField("content_collection_add_savables");if(e!=null){var r=e.getLinkedRecord("content_collection");if(r!=null&&t!==r.getValue("id")){var a=n.get(o("CometRelay").VIEWER_ID);if(a==null)return;var i=a.getLinkedRecord("saver_info");if(i==null)return;o("CometSaveMutationHelper").addCollectionToConnections(n,r,i)}}},g=f,h=f,y=c!=null?c:l;return d(babelHelpers.extends({},_,{optimisticUpdater:g,updater:h,variables:{contributorRoles:o("CometSaveCollectionConstants").COLLECTION_FACEPILE_CONTRIBUTORS_ROLES,input:{collection_title:a,content_collection_id:t,savable_ids:u,save_mechanism:s,save_surface:y},scale:o("WebPixelRatio").get()}}))},t[2]=d,t[3]=l,t[4]=m):m=t[4],m}l.default=u}),98);
__d("CometSaveToggle.react",["fbt","CometRelay","CometSaveToastUtil","CometSaveToggle_savable.graphql","react","react-compiler-runtime","requireDeferred","useAddToCollectionFlow","useContentCollectionAddSavablesMutation","useSaveMutation","useUnsaveMutation"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("cometPushToast").__setRef("CometSaveToggle.react"),p=e!==void 0?e:e=n("CometSaveToggle_savable.graphql");function _(e){var t=o("react-compiler-runtime").c(26),n=e.SaveComponent,a=e.UnsaveComponent,i=e.mechanism,l=e.onSaveSuccess,s=e.onUnsave,u=e.onUnsaveSuccess,c=e.overrideSaveDestinationLink,d=e.savable,m=e.saveToCollectionID,_=e.surface,g=o("CometRelay").useFragment(p,d),y=g.id,C=r("useAddToCollectionFlow")(m),b=C[0],v;t[0]!==i||t[1]!==y||t[2]!==_?(v={mechanism:i,savableID:y,surface:_},t[0]=i,t[1]=y,t[2]=_,t[3]=v):v=t[3];var S=r("useSaveMutation")(v),R=h,L=r("useContentCollectionAddSavablesMutation")(),E=r("useUnsaveMutation")(),k=f;if(y==null)return null;switch(g.viewer_saved_state){case"SAVED":{var I;t[4]!==i||t[5]!==s||t[6]!==E||t[7]!==u||t[8]!==y||t[9]!==_?(I=function(){s?s():E({mechanism:i,savableID:y,surface:_},{onCompleted:u!=null?u:o("CometSaveToastUtil").showUnsaveToast})},t[4]=i,t[5]=s,t[6]=E,t[7]=u,t[8]=y,t[9]=_,t[10]=I):I=t[10];var T;return t[11]!==a||t[12]!==I?(T=a(I),t[11]=a,t[12]=I,t[13]=T):T=t[13],T}case"NOT_SAVED":{var D;t[14]!==L||t[15]!==i||t[16]!==S||t[17]!==l||t[18]!==c||t[19]!==y||t[20]!==m||t[21]!==b?(D=function(){if(m!=null){var e=function(t){var e,n=(e=t.content_collection_add_savables)==null?void 0:e.content_collection;R(n==null?void 0:n.id,n==null?void 0:n.collection_title)};L({collectionID:m,mechanism:i,overrideSaveDestinationLink:c,savableIDs:[y]},{onCompleted:l!=null?l:e})}else S(),b({mechanism:i,onClose:k,savableID:y},k)},t[14]=L,t[15]=i,t[16]=S,t[17]=l,t[18]=c,t[19]=y,t[20]=m,t[21]=b,t[22]=D):D=t[22];var x;return t[23]!==n||t[24]!==D?(x=n(D),t[23]=n,t[24]=D,t[25]=x):x=t[25],x}case"NOT_SAVABLE":default:return null}}function f(e){e!==!0&&m.onReady(g)}function g(e){e.cometPushSimpleToast(s._(/*BTDS*/"Saved"))}function h(e,t,n){o("CometSaveToastUtil").showSaveToast(t,e,n)}l.default=_}),226);
__d("CometFeedAttachmentSaveCallToAction.react",["fbt","CometFeedAttachmentSaveCallToAction_actionLink.graphql","CometRelay","CometSaveToggle.react","CometTrackingNodeProvider.react","FDSButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var a=o("react-compiler-runtime").c(2),i=t.actionLink,l=o("CometRelay").useFragment(e!==void 0?e:e=n("CometFeedAttachmentSaveCallToAction_actionLink.graphql"),i),s=l.action_link,u=_,d=p,m=s==null?void 0:s.item;if(m==null)return null;var f;return a[0]!==m?(f=c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:191,children:c.jsx(r("CometSaveToggle.react"),{SaveComponent:u,UnsaveComponent:d,mechanism:"TOGGLE_BUTTON",savable:m,surface:"story"})}),a[0]=m,a[1]=f):f=a[1],f}function p(e){return c.jsx(r("FDSButton.react"),{label:s._(/*BTDS*/"Unsave"),onPress:e,type:"secondary"})}p.displayName=p.name+" [from "+i.id+"]";function _(e){return c.jsx(r("FDSButton.react"),{"aria-label":s._(/*BTDS*/"Save item to your saved items"),label:s._(/*BTDS*/"Save"),onPress:e,type:"secondary"})}_.displayName=_.name+" [from "+i.id+"]",l.default=m}),226);
__d("CometFeedAttachmentSaveCallToAction_actionLink$normalization.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{kind:"SplitOperation",metadata:{},name:"CometFeedAttachmentSaveCallToAction_actionLink$normalization",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_link",plural:!1,selections:[e,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"item",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewer_saved_state",storageKey:null}],type:"Savable",abstractKey:"__isSavable"}],storageKey:null}],type:"SaveActionLink",abstractKey:null}],storageKey:null}]}})();a.exports=e}),null);